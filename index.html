<!doctype html>
<html>
<head>
<title>Hard Vacuum: Recon</title>
<style type="text/css">
#background {
  position: relative;
}
.snow {
  background-image: url(img/snow.png);
}
.row {
  display: block;
  width: 100px;
  height: 20px;
}
.tile {
  display: inline-block;
  height: 20px;
  width: 20px;
  position: absolute;
  top: 0;
  left: 0;
}
</style>
</head>
<body>
<div id="background">
</div>
<script type="text/javascript">
var $ = function (selector) {
  if (selector.indexOf("#") === 0) {
    return document.getElementById(selector.slice(1));
  }
  if (selector.indexOf(".") === 0) {
    return document.getElementByClassName(selector.slice(1));
  }
  return null;
};

var setup = function () {
  var x = 0;
  var y = 0;
  var background = $("#background");
  var row = null;
  var tile = null;
  for (y = 0; y < 7; y += 1) {
    row = document.createElement("div");
    row.setAttribute("class", "row");
    for (x = 0; x < 5; x += 1) {
      tile = document.createElement("span");
      tile.setAttribute("class", "snow tile");
      tile.style.top = ""+(y * 20)+"px";
      tile.style.left = ""+(x * 20)+"px";
      row.appendChild(tile);
    }
    background.appendChild(row);
  }
};

var render = function () {
  var snow = $("#snow");
  if (snow === null) {
    return;
  }
  if (snow.style.top === "") {
    snow.style.top = "0px";
  }
  var offset = parseInt(snow.style.top);
  if (offset > 320) {
    offset = 0;
  }
  offset += 1;
  snow.style.top = ""+offset+"px";
  setTimeout(render, 17);
};

setup();
render();
</script>
</body>
</html>
